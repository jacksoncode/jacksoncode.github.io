<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <style type="text/css">

#watermark {

  position: relative;
  overflow: hidden;
}

#watermark .x {
  position: absolute;
  top: 800;
  left: 400;
  color: #3300ff;
  font-size: 50px;
  pointer-events: none;
  opacity:0.3;
  filter:Alpha(opacity=50);
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
}
    </style>


    <style type="text/css">
 html{color:#333;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-rendering:optimizelegibility;font-family:Helvetica Neue,PingFang SC,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif}html.borderbox *,html.borderbox :after,html.borderbox :before{box-sizing:border-box}article,aside,blockquote,body,button,code,dd,details,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hr,input,legend,li,menu,nav,ol,p,pre,section,td,textarea,th,ul{margin:0;padding:0}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}audio,canvas,video{display:inline-block}body,button,input,select,textarea{font:300 1em/1.8 PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}blockquote{position:relative;color:#999;font-weight:400;border-left:1px solid #1abc9c;padding-left:1em;margin:1em 3em 1em 2em}@media only screen and (max-width:640px){blockquote{margin:1em 0}}abbr,acronym{border-bottom:1px dotted;font-variant:normal}abbr{cursor:help}del{text-decoration:line-through}address,caption,cite,code,dfn,em,th,var{font-style:normal;font-weight:400}ol,ul{list-style:none}caption,th{text-align:left}q:after,q:before{content:""}sub,sup{font-size:75%;line-height:0;position:relative}:root sub,:root sup{vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}a{color:#1abc9c}a:hover{text-decoration:underline}.typo a{border-bottom:1px solid #1abc9c}.typo a:hover{border-bottom-color:#555;color:#555}.typo a:hover,a,ins{text-decoration:none}.typo-u,u{text-decoration:underline}mark{background:#fffdd1;border-bottom:1px solid #ffedce;padding:2px;margin:0 5px}code,pre,pre tt{font-family:Courier,Courier New,monospace}pre{background:hsla(0,0%,97%,.7);border:1px solid #ddd;padding:1em 1.5em;display:block;-webkit-overflow-scrolling:touch}hr{border:none;border-bottom:1px solid #cfcfcf;margin-bottom:.8em;height:10px}.typo-small,figcaption,small{font-size:.9em;color:#888}b,strong{font-weight:700;color:#000}[draggable]{cursor:move}.clearfix:after,.clearfix:before{content:"";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.textwrap,.textwrap td,.textwrap th{word-wrap:break-word;word-break:break-all}.textwrap-table{table-layout:fixed}.serif{font-family:Palatino,Optima,Georgia,serif}.typo-dl,.typo-form,.typo-hr,.typo-ol,.typo-p,.typo-pre,.typo-table,.typo-ul,.typo dl,.typo form,.typo hr,.typo ol,.typo p,.typo pre,.typo table,.typo ul,blockquote{margin-bottom:1rem}h1,h2,h3,h4,h5,h6{font-family:PingFang SC,Helvetica Neue,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;color:#000;line-height:1.35}.typo-h1,.typo-h2,.typo-h3,.typo-h4,.typo-h5,.typo-h6,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6{margin-top:1.2em;margin-bottom:.6em;line-height:1.35}.typo-h1,.typo h1{font-size:2em}.typo-h2,.typo h2{font-size:1.8em}.typo-h3,.typo h3{font-size:1.6em}.typo-h4,.typo h4{font-size:1.4em}.typo-h5,.typo-h6,.typo h5,.typo h6{font-size:1.2em}.typo-ul,.typo ul{margin-left:1.3em;list-style:disc}.typo-ol,.typo ol{list-style:decimal;margin-left:1.9em}.typo-ol ol,.typo-ol ul,.typo-ul ol,.typo-ul ul,.typo li ol,.typo li ul{margin-bottom:.8em;margin-left:2em}.typo-ol ul,.typo-ul ul,.typo li ul{list-style:circle}.typo-table td,.typo-table th,.typo table caption,.typo table td,.typo table th{border:1px solid #ddd;padding:.5em 1em;color:#666}.typo-table th,.typo table th{background:#fbfbfb}.typo-table thead th,.typo table thead th{background:hsla(0,0%,95%,.7)}.typo table caption{border-bottom:none}.typo-input,.typo-textarea{-webkit-appearance:none;border-radius:0}.typo-em,.typo em,caption,legend{color:#000;font-weight:inherit}.typo-em{position:relative}.typo-em:after{position:absolute;top:.65em;left:0;width:100%;overflow:hidden;white-space:nowrap;content:"\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"}.typo img{max-width:100%}.common-content{font-weight:400;color:#353535;line-height:1.75rem;white-space:normal;word-break:normal;font-size:1rem}.common-content img{display:block;max-width:100%;background-color:#eee}.common-content audio,.common-content video{width:100%;background-color:#eee}.common-content center,.common-content font{margin-top:1rem;display:inline-block}.common-content center{width:100%}.common-content pre{margin-top:1rem;padding-left:0;padding-right:0;position:relative;overflow:hidden}.common-content pre code{font-size:.8rem;font-family:Consolas,Liberation Mono,Menlo,monospace,Courier;display:block;width:100%;box-sizing:border-box;padding-left:1rem;padding-right:1rem;overflow-x:auto}.common-content hr{border:none;margin-top:1.5rem;margin-bottom:1.5rem;border-top:1px solid #f5f5f5;height:1px;background:none}.common-content b,.common-content h1,.common-content h2,.common-content h3,.common-content h4,.common-content h5,.common-content strong{font-weight:700}.common-content h1,.common-content h2{font-size:1.125rem;margin-bottom:.45rem}.common-content h3,.common-content h4,.common-content h5{font-size:1rem;margin-bottom:.45rem}.common-content p{font-weight:400;color:#353535;margin-top:.15rem}.common-content .orange{color:#ff5a05}.common-content .reference{font-size:1rem;color:#888}.custom-rich-content h1{margin-top:0;font-weight:400;font-size:15.25px;border-bottom:1px solid #eee;line-height:2.8}.custom-rich-content li,.custom-rich-content p{font-size:14px;color:#888;line-height:1.6}table.hljs-ln{margin-bottom:0;border-spacing:0;border-collapse:collapse}table.hljs-ln,table.hljs-ln tbody,table.hljs-ln td,table.hljs-ln tr{box-sizing:border-box}table.hljs-ln td{padding:0;border:0}table.hljs-ln td.hljs-ln-numbers{min-width:15px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;cursor:pointer;user-select:none}table.hljs-ln td.hljs-ln-code,table.hljs-ln td.hljs-ln-numbers{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;vertical-align:top}table.hljs-ln td.hljs-ln-code{position:relative;padding-right:10px;padding-left:10px;overflow:visible;color:#24292e;word-wrap:normal;white-space:pre}video::-webkit-media-controls{overflow:hidden!important}video::-webkit-media-controls-enclosure{width:calc(100% + 32px);margin-left:auto}.button-cancel{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel,.button-primary{-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary{color:#fff;background-color:#ff5a05;border-radius:3px}@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot);src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.woff) format("woff"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.ttf) format("truetype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.svg#iconfont) format("svg")}@font-face{font-family:player-font;src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot);src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.woff) format("woff"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.ttf) format("truetype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.svg#player-font) format("svg")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}html{background:#fff;min-height:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{width:100%}body.fixed{overflow:hidden;position:fixed;width:100vw;height:100vh}i{font-style:normal}a{word-wrap:break-word;-webkit-tap-highlight-color:rgba(0,0,0,0)}a:hover{text-decoration:none}.fade-enter-active,.fade-leave-active{transition:opacity .3s}.fade-enter,.fade-leave-to{opacity:0}.MathJax,.MathJax_CHTML,.MathJax_MathContainer,.MathJax_MathML,.MathJax_PHTML,.MathJax_PlainSource,.MathJax_SVG{outline:0}.ios-app-switch .js-audit{display:none}._loading_wrap_{position:fixed;width:100vw;height:100vh;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}._loading_div_class_,._loading_wrap_{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._loading_div_class_{word-wrap:break-word;padding:.5rem .75rem;text-align:center;z-index:9999;font-size:.6rem;max-width:60%;color:#fff;border-radius:.25rem;-ms-flex-direction:column;flex-direction:column}._loading_div_class_ .message{color:#353535;font-size:16px;line-height:3}.spinner{animation:circle-rotator 1.4s linear infinite}.spinner *{line-height:0;box-sizing:border-box}@keyframes circle-rotator{0%{transform:rotate(0deg)}to{transform:rotate(270deg)}}.path{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:circle-dash 1.4s ease-in-out infinite,circle-colors 5.6s ease-in-out infinite}@keyframes circle-colors{0%{stroke:#ff5a05}to{stroke:#ff5a05}}@keyframes circle-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}to{stroke-dashoffset:187;transform:rotate(450deg)}}.confirm-box-wrapper,.confirm-box-wrapper .mask{position:absolute;top:0;left:0;right:0;bottom:0}.confirm-box-wrapper .mask{background:rgba(0,0,0,.6)}.confirm-box-wrapper .confirm-box{position:fixed;top:50%;left:50%;width:267px;background:#fff;transform:translate(-50%,-50%);border-radius:7px}.confirm-box-wrapper .confirm-box .head{margin:0 18px;font-size:18px;text-align:center;line-height:65px;border-bottom:1px solid #d9d9d9}.confirm-box-wrapper .confirm-box .body{padding:18px;padding-bottom:0;color:#353535;font-size:12.5px;max-height:150px;overflow:auto}.confirm-box-wrapper .confirm-box .foot{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:18px}.confirm-box-wrapper .confirm-box .foot .button-cancel{border:1px solid #d9d9d9}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}




    </style>
    <style type="text/css">
        .button-cancel[data-v-87ffcada]{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel[data-v-87ffcada],.button-primary[data-v-87ffcada]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary[data-v-87ffcada]{color:#fff;background-color:#ff5a05;border-radius:3px}.pd[data-v-87ffcada]{padding-left:1.375rem;padding-right:1.375rem}.article[data-v-87ffcada]{max-width:70rem;margin:0 auto}.article .article-unavailable[data-v-87ffcada]{color:#fa8919;font-size:15px;font-weight:600;line-height:24px;border-radius:5px;padding:12px;background-color:#f6f7fb;margin-top:20px}.article .article-unavailable .iconfont[data-v-87ffcada]{font-size:12px}.article .main[data-v-87ffcada]{padding:1.25rem 0;margin-bottom:52px}.article-title[data-v-87ffcada]{color:#353535;font-weight:400;line-height:1.65rem;font-size:1.34375rem}.article-info[data-v-87ffcada]{color:#888;font-size:.9375rem;margin-top:1.0625rem}.article-content[data-v-87ffcada]{margin-top:1.0625rem}.article-content.android video[data-v-87ffcada]::-webkit-media-controls-fullscreen-button{display:none}.copyright[data-v-87ffcada]{color:#b2b2b2;padding-bottom:20px;margin-top:20px;font-size:13px}.audio-player[data-v-87ffcada]{width:100%;margin:20px 0}.to-comment[data-v-87ffcada]{overflow:hidden;padding-top:10px;margin-bottom:-30px}.to-comment a.button-primary[data-v-87ffcada]{float:right;height:20px;font-size:12px;line-height:20px;padding:4px 8px;cursor:pointer}.article-comments[data-v-87ffcada]{margin-top:2rem}.article-comments h2[data-v-87ffcada]{text-align:center;color:#888;position:relative;z-index:1;margin-bottom:1rem}.article-comments h2[data-v-87ffcada]:before{border-top:1px dotted #888;content:"";position:absolute;top:56%;left:0;width:100%;z-index:-1}.article-comments h2 span[data-v-87ffcada]{font-size:15.25px;font-weight:400;padding:0 1rem;background:#fff;display:inline-block}.article-sub-bottom[data-v-87ffcada]{z-index:10;cursor:pointer}.switch-btns[data-v-87ffcada]{height:76px;cursor:pointer;padding-top:24px;padding-bottom:24px;border-bottom:10px solid #f6f7fb;position:relative}.switch-btns[data-v-87ffcada]:before{content:" ";height:1px;background:#e8e8e8;position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;left:1.375rem;right:1.375rem}.switch-btns .btn[data-v-87ffcada]{height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.switch-btns .btn .tag[data-v-87ffcada]{-webkit-box-flex:0;-ms-flex:0 0 62px;flex:0 0 62px;text-align:center;color:#888;font-size:14px;border-radius:10px;height:22px;line-height:22px;background:#f6f7fb;font-weight:400}.switch-btns .btn .txt[data-v-87ffcada]{margin-left:10px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#888;font-size:15px;height:22px;line-height:22px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}@media (max-width:769px){.article .breadcrumb[data-v-87ffcada]{padding-top:10px;padding-bottom:10px}}





    </style>

    <style type="text/css">
        .comment-item{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-bottom:1rem}.comment-item a{border-bottom:none}.comment-item .avatar{width:2.625rem;height:2.625rem;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}.comment-item .info{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.comment-item .info .hd{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .username{color:#888;font-size:15.25px;font-weight:400;line-height:1.2}.comment-item .info .hd .control{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .control .btn-share{color:#888;font-size:.75rem;margin-right:1rem}.comment-item .info .hd .control .btn-praise{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15.25px;text-decoration:none}.comment-item .info .hd .control .btn-praise i{color:#888;display:inline-block;font-size:.75rem;margin-right:.3rem;margin-top:-.01rem}.comment-item .info .hd .control .btn-praise i.on,.comment-item .info .hd .control .btn-praise span{color:#ff5a05}.comment-item .info .bd{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6}.comment-item .info .time{color:#888;font-size:9px;line-height:1}.comment-item .info .reply .reply-hd{font-size:15.25px}.comment-item .info .reply .reply-hd span{margin-left:-12px;color:#888;font-weight:400}.comment-item .info .reply .reply-hd i{color:#ff5a05;font-size:15.25px}.comment-item .info .reply .reply-content{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all}.comment-item .info .reply .reply-time{color:#888;font-size:9px}




    </style>
</head>
<body>
<div id="app">


    <div data-v-87ffcada="" class="article" id="watermark">
        <p class="x">æ›´å¤šè¯¾ç¨‹è¯·åŠ QQç¾¤170701297</p>
        <div data-v-87ffcada="" class="main main-app">
            <h1 data-v-87ffcada="" class="article-title pd">
                21è®²å¥—è·¯ç¯‡ï¼šå¦‚ä½•â€œå¿«å‡†ç‹ â€æ‰¾åˆ°ç³»ç»Ÿå†…å­˜çš„é—®é¢˜
            </h1>
            <div data-v-87ffcada="" class="article-content typo common-content pd"><img data-v-87ffcada=""
                                                                                        src="https://static001.geekbang.org/resource/image/a9/64/a95962cbd68e8fa648e708851e2b9f64.jpg">


                <div data-v-87ffcada="" id="article-content" class="">
                    <div class="text">
                        <p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>å‰å‡ èŠ‚ï¼Œé€šè¿‡å‡ ä¸ªæ¡ˆä¾‹ï¼Œæˆ‘ä»¬åˆ†æäº†å„ç§å¸¸è§çš„å†…å­˜æ€§èƒ½é—®é¢˜ã€‚æˆ‘ç›¸ä¿¡é€šè¿‡å®ƒä»¬ï¼Œä½ å¯¹å†…å­˜çš„æ€§èƒ½åˆ†æå·²ç»æœ‰äº†åŸºæœ¬çš„æ€è·¯ï¼Œä¹Ÿç†Ÿæ‚‰äº†å¾ˆå¤šåˆ†æå†…å­˜æ€§èƒ½çš„å·¥å…·ã€‚ä½ è‚¯å®šä¼šæƒ³ï¼Œæœ‰æ²¡æœ‰è¿…é€Ÿå®šä½å†…å­˜é—®é¢˜çš„æ–¹æ³•ï¼Ÿå½“å®šä½å‡ºå†…å­˜çš„ç“¶é¢ˆåï¼Œåˆæœ‰å“ªäº›ä¼˜åŒ–å†…å­˜çš„æ€è·¯å‘¢ï¼Ÿ</p><p>ä»Šå¤©ï¼Œæˆ‘å°±æ¥å¸®ä½ æ¢³ç†ä¸€ä¸‹ï¼Œæ€æ ·å¯ä»¥å¿«é€Ÿå®šä½ç³»ç»Ÿå†…å­˜ï¼Œå¹¶ä¸”æ€»ç»“äº†ç›¸å…³çš„è§£å†³æ€è·¯ã€‚</p><h2>å†…å­˜æ€§èƒ½æŒ‡æ ‡</h2><p>ä¸ºäº†åˆ†æå†…å­˜çš„æ€§èƒ½ç“¶é¢ˆï¼Œé¦–å…ˆä½ è¦çŸ¥é“ï¼Œæ€æ ·è¡¡é‡å†…å­˜çš„æ€§èƒ½ï¼Œä¹Ÿå°±æ˜¯æ€§èƒ½æŒ‡æ ‡é—®é¢˜ã€‚æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ï¼Œå‰å‡ èŠ‚å­¦è¿‡çš„å†…å­˜æ€§èƒ½æŒ‡æ ‡ã€‚</p><p>ä½ å¯ä»¥è‡ªå·±å…ˆæ‰¾å¼ çº¸ï¼Œå‡­ç€è®°å¿†å†™ä¸€å†™ï¼›æˆ–è€…æ‰“å¼€å‰é¢çš„æ–‡ç« ï¼Œè‡ªå·±æ€»ç»“ä¸€ä¸‹ã€‚</p><p>é¦–å…ˆï¼Œä½ æœ€å®¹æ˜“æƒ³åˆ°çš„æ˜¯ç³»ç»Ÿå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œæ¯”å¦‚å·²ç”¨å†…å­˜ã€å‰©ä½™å†…å­˜ã€å…±äº«å†…å­˜ã€å¯ç”¨å†…å­˜ã€ç¼“å­˜å’Œç¼“å†²åŒºçš„ç”¨é‡ç­‰ã€‚</p><ul>
<li>
<p>å·²ç”¨å†…å­˜å’Œå‰©ä½™å†…å­˜å¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯å·²ç»ä½¿ç”¨å’Œè¿˜æœªä½¿ç”¨çš„å†…å­˜ã€‚</p>
</li>
<li>
<p>å…±äº«å†…å­˜æ˜¯é€šè¿‡tmpfså®ç°çš„ï¼Œæ‰€ä»¥å®ƒçš„å¤§å°ä¹Ÿå°±æ˜¯tmpfsä½¿ç”¨çš„å†…å­˜å¤§å°ã€‚tmpfså…¶å®ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç¼“å­˜ã€‚</p>
</li>
<li>
<p>å¯ç”¨å†…å­˜æ˜¯æ–°è¿›ç¨‹å¯ä»¥ä½¿ç”¨çš„æœ€å¤§å†…å­˜ï¼Œå®ƒåŒ…æ‹¬å‰©ä½™å†…å­˜å’Œå¯å›æ”¶ç¼“å­˜ã€‚</p>
</li>
<li>
<p>ç¼“å­˜åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯ç£ç›˜è¯»å–æ–‡ä»¶çš„é¡µç¼“å­˜ï¼Œç”¨æ¥ç¼“å­˜ä»ç£ç›˜è¯»å–çš„æ•°æ®ï¼Œå¯ä»¥åŠ å¿«ä»¥åå†æ¬¡è®¿é—®çš„é€Ÿåº¦ã€‚å¦ä¸€éƒ¨åˆ†ï¼Œåˆ™æ˜¯Slabåˆ†é…å™¨ä¸­çš„å¯å›æ”¶å†…å­˜ã€‚</p>
</li>
<li>
<p>ç¼“å†²åŒºæ˜¯å¯¹åŸå§‹ç£ç›˜å—çš„ä¸´æ—¶å­˜å‚¨ï¼Œç”¨æ¥ç¼“å­˜å°†è¦å†™å…¥ç£ç›˜çš„æ•°æ®ã€‚è¿™æ ·ï¼Œå†…æ ¸å°±å¯ä»¥æŠŠåˆ†æ•£çš„å†™é›†ä¸­èµ·æ¥ï¼Œç»Ÿä¸€ä¼˜åŒ–ç£ç›˜å†™å…¥ã€‚</p>
</li>
</ul><!-- [[[read_end]]] --><p>ç¬¬äºŒç±»å¾ˆå®¹æ˜“æƒ³åˆ°çš„ï¼Œåº”è¯¥æ˜¯è¿›ç¨‹å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œæ¯”å¦‚è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ã€å¸¸é©»å†…å­˜ã€å…±äº«å†…å­˜ä»¥åŠSwapå†…å­˜ç­‰ã€‚</p><ul>
<li>
<p>è™šæ‹Ÿå†…å­˜ï¼ŒåŒ…æ‹¬äº†è¿›ç¨‹ä»£ç æ®µã€æ•°æ®æ®µã€å…±äº«å†…å­˜ã€å·²ç»ç”³è¯·çš„å †å†…å­˜å’Œå·²ç»æ¢å‡ºçš„å†…å­˜ç­‰ã€‚è¿™é‡Œè¦æ³¨æ„ï¼Œå·²ç»ç”³è¯·çš„å†…å­˜ï¼Œå³ä½¿è¿˜æ²¡æœ‰åˆ†é…ç‰©ç†å†…å­˜ï¼Œä¹Ÿç®—ä½œè™šæ‹Ÿå†…å­˜ã€‚</p>
</li>
<li>
<p>å¸¸é©»å†…å­˜æ˜¯è¿›ç¨‹å®é™…ä½¿ç”¨çš„ç‰©ç†å†…å­˜ï¼Œä¸è¿‡ï¼Œå®ƒä¸åŒ…æ‹¬Swapå’Œå…±äº«å†…å­˜ã€‚</p>
</li>
<li>
<p>å…±äº«å†…å­˜ï¼Œæ—¢åŒ…æ‹¬ä¸å…¶ä»–è¿›ç¨‹å…±åŒä½¿ç”¨çš„çœŸå®çš„å…±äº«å†…å­˜ï¼Œè¿˜åŒ…æ‹¬äº†åŠ è½½çš„åŠ¨æ€é“¾æ¥åº“ä»¥åŠç¨‹åºçš„ä»£ç æ®µç­‰ã€‚</p>
</li>
<li>
<p>Swapå†…å­˜ï¼Œæ˜¯æŒ‡é€šè¿‡Swapæ¢å‡ºåˆ°ç£ç›˜çš„å†…å­˜ã€‚</p>
</li>
</ul><p>å½“ç„¶ï¼Œè¿™äº›æŒ‡æ ‡ä¸­ï¼Œå¸¸é©»å†…å­˜ä¸€èˆ¬ä¼šæ¢ç®—æˆå ç³»ç»Ÿæ€»å†…å­˜çš„ç™¾åˆ†æ¯”ï¼Œä¹Ÿå°±æ˜¯è¿›ç¨‹çš„å†…å­˜ä½¿ç”¨ç‡ã€‚</p><p>é™¤äº†è¿™äº›å¾ˆå®¹æ˜“æƒ³åˆ°çš„æŒ‡æ ‡å¤–ï¼Œæˆ‘è¿˜æƒ³å†å¼ºè°ƒä¸€ä¸‹ï¼Œç¼ºé¡µå¼‚å¸¸ã€‚</p><p>åœ¨å†…å­˜åˆ†é…çš„åŸç†ä¸­ï¼Œæˆ‘æ›¾ç»è®²åˆ°è¿‡ï¼Œç³»ç»Ÿè°ƒç”¨å†…å­˜åˆ†é…è¯·æ±‚åï¼Œå¹¶ä¸ä¼šç«‹åˆ»ä¸ºå…¶åˆ†é…ç‰©ç†å†…å­˜ï¼Œè€Œæ˜¯åœ¨è¯·æ±‚é¦–æ¬¡è®¿é—®æ—¶ï¼Œé€šè¿‡ç¼ºé¡µå¼‚å¸¸æ¥åˆ†é…ã€‚ç¼ºé¡µå¼‚å¸¸åˆåˆ†ä¸ºä¸‹é¢ä¸¤ç§åœºæ™¯ã€‚</p><ul>
<li>
<p>å¯ä»¥ç›´æ¥ä»ç‰©ç†å†…å­˜ä¸­åˆ†é…æ—¶ï¼Œè¢«ç§°ä¸ºæ¬¡ç¼ºé¡µå¼‚å¸¸ã€‚</p>
</li>
<li>
<p>éœ€è¦ç£ç›˜I/Oä»‹å…¥ï¼ˆæ¯”å¦‚Swapï¼‰æ—¶ï¼Œè¢«ç§°ä¸ºä¸»ç¼ºé¡µå¼‚å¸¸ã€‚</p>
</li>
</ul><p>æ˜¾ç„¶ï¼Œä¸»ç¼ºé¡µå¼‚å¸¸å‡é«˜ï¼Œå°±æ„å‘³ç€éœ€è¦ç£ç›˜I/Oï¼Œé‚£ä¹ˆå†…å­˜è®¿é—®ä¹Ÿä¼šæ…¢å¾ˆå¤šã€‚</p><p>é™¤äº†ç³»ç»Ÿå†…å­˜å’Œè¿›ç¨‹å†…å­˜ï¼Œç¬¬ä¸‰ç±»é‡è¦æŒ‡æ ‡å°±æ˜¯Swapçš„ä½¿ç”¨æƒ…å†µï¼Œæ¯”å¦‚Swapçš„å·²ç”¨ç©ºé—´ã€å‰©ä½™ç©ºé—´ã€æ¢å…¥é€Ÿåº¦å’Œæ¢å‡ºé€Ÿåº¦ç­‰ã€‚</p><ul>
<li>
<p>å·²ç”¨ç©ºé—´å’Œå‰©ä½™ç©ºé—´å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯å­—é¢ä¸Šçš„æ„æ€ï¼Œå·²ç»ä½¿ç”¨å’Œæ²¡æœ‰ä½¿ç”¨çš„å†…å­˜ç©ºé—´ã€‚</p>
</li>
<li>
<p>æ¢å…¥å’Œæ¢å‡ºé€Ÿåº¦ï¼Œåˆ™è¡¨ç¤ºæ¯ç§’é’Ÿæ¢å…¥å’Œæ¢å‡ºå†…å­˜çš„å¤§å°ã€‚</p>
</li>
</ul><p>è¿™äº›å†…å­˜çš„æ€§èƒ½æŒ‡æ ‡éƒ½éœ€è¦æˆ‘ä»¬ç†Ÿè®°å¹¶ä¸”ä¼šç”¨ï¼Œæˆ‘æŠŠå®ƒä»¬æ±‡æ€»æˆäº†ä¸€ä¸ªæ€ç»´å¯¼å›¾ï¼Œä½ å¯ä»¥ä¿å­˜æ‰“å°å‡ºæ¥ï¼Œæˆ–è€…è‡ªå·±ä»¿ç…§ç€æ€»ç»“ä¸€ä»½ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/e2/36/e28cf90f0b137574bca170984d1e6736.png" alt=""></p><h2>å†…å­˜æ€§èƒ½å·¥å…·</h2><p>äº†è§£äº†å†…å­˜çš„æ€§èƒ½æŒ‡æ ‡ï¼Œæˆ‘ä»¬è¿˜å¾—çŸ¥é“ï¼Œæ€ä¹ˆæ‰èƒ½è·å¾—è¿™äº›æŒ‡æ ‡ï¼Œä¹Ÿå°±æ˜¯ä¼šç”¨æ€§èƒ½å·¥å…·ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ä¹Ÿç”¨åŒæ ·çš„æ–¹æ³•ï¼Œå›é¡¾ä¸€ä¸‹å‰é¢æ¡ˆä¾‹ä¸­å·²ç»ç”¨åˆ°çš„å„ç§å†…å­˜æ€§èƒ½å·¥å…·ã€‚ è¿˜æ˜¯é¼“åŠ±ä½ å…ˆè‡ªå·±å›å¿†å’Œæ€»ç»“ä¸€ä¸‹ã€‚</p><p>é¦–å…ˆï¼Œä½ åº”è¯¥æ³¨æ„åˆ°äº†ï¼Œæ‰€æœ‰çš„æ¡ˆä¾‹ä¸­éƒ½ç”¨åˆ°äº†freeã€‚è¿™æ˜¯ä¸ªæœ€å¸¸ç”¨çš„å†…å­˜å·¥å…·ï¼Œå¯ä»¥æŸ¥çœ‹ç³»ç»Ÿçš„æ•´ä½“å†…å­˜å’ŒSwapä½¿ç”¨æƒ…å†µã€‚ç›¸å¯¹åº”çš„ï¼Œä½ å¯ä»¥ç”¨topæˆ–psï¼ŒæŸ¥çœ‹è¿›ç¨‹çš„å†…å­˜ä½¿ç”¨æƒ…å†µã€‚</p><p>ç„¶åï¼Œåœ¨ç¼“å­˜å’Œç¼“å†²åŒºçš„åŸç†ç¯‡ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡procæ–‡ä»¶ç³»ç»Ÿï¼Œæ‰¾åˆ°äº†å†…å­˜æŒ‡æ ‡çš„æ¥æºï¼›å¹¶é€šè¿‡vmstatï¼ŒåŠ¨æ€è§‚å¯Ÿäº†å†…å­˜çš„å˜åŒ–æƒ…å†µã€‚ä¸freeç›¸æ¯”ï¼Œvmstaté™¤äº†å¯ä»¥åŠ¨æ€æŸ¥çœ‹å†…å­˜å˜åŒ–ï¼Œè¿˜å¯ä»¥åŒºåˆ†ç¼“å­˜å’Œç¼“å†²åŒºã€Swapæ¢å…¥å’Œæ¢å‡ºçš„å†…å­˜å¤§å°ã€‚</p><p>æ¥ç€ï¼Œåœ¨ç¼“å­˜å’Œç¼“å†²åŒºçš„æ¡ˆä¾‹ç¯‡ä¸­ï¼Œä¸ºäº†å¼„æ¸…æ¥šç¼“å­˜çš„å‘½ä¸­æƒ…å†µï¼Œæˆ‘ä»¬åˆç”¨äº†cachestat ï¼ŒæŸ¥çœ‹æ•´ä¸ªç³»ç»Ÿç¼“å­˜çš„è¯»å†™å‘½ä¸­æƒ…å†µï¼Œå¹¶ç”¨ cachetop æ¥è§‚å¯Ÿæ¯ä¸ªè¿›ç¨‹ç¼“å­˜çš„è¯»å†™å‘½ä¸­æƒ…å†µã€‚</p><p>å†æ¥ç€ï¼Œåœ¨å†…å­˜æ³„æ¼çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ç”¨vmstatï¼Œå‘ç°äº†å†…å­˜ä½¿ç”¨åœ¨ä¸æ–­å¢é•¿ï¼Œåˆç”¨memleakï¼Œç¡®è®¤å‘ç”Ÿäº†å†…å­˜æ³„æ¼ã€‚é€šè¿‡memleakç»™å‡ºçš„å†…å­˜åˆ†é…æ ˆï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†å†…å­˜æ³„æ¼çš„å¯ç–‘ä½ç½®ã€‚</p><p>æœ€åï¼Œåœ¨Swapçš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ç”¨sarå‘ç°äº†ç¼“å†²åŒºå’ŒSwapå‡é«˜çš„é—®é¢˜ã€‚é€šè¿‡cachetopï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ç¼“å†²åŒºå‡é«˜çš„æ ¹æºï¼›é€šè¿‡å¯¹æ¯”å‰©ä½™å†…å­˜è·Ÿ/proc/zoneinfoçš„å†…å­˜é˜ˆï¼Œæˆ‘ä»¬å‘ç°Swapå‡é«˜æ˜¯å†…å­˜å›æ”¶å¯¼è‡´çš„ã€‚æ¡ˆä¾‹æœ€åï¼Œæˆ‘ä»¬è¿˜é€šè¿‡/procæ–‡ä»¶ç³»ç»Ÿï¼Œæ‰¾å‡ºäº†Swapæ‰€å½±å“çš„è¿›ç¨‹ã€‚</p><p>åˆ°è¿™é‡Œï¼Œä½ æ˜¯ä¸æ˜¯å†æ¬¡æ„Ÿè§‰åˆ°äº†æ¥è‡ªæ€§èƒ½ä¸–ç•Œçš„â€œæ¶æ„â€ã€‚æ€§èƒ½å·¥å…·æ€ä¹ˆé‚£ä¹ˆå¤šå‘€ï¼Ÿå…¶å®ï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼Œç†è§£å†…å­˜çš„å·¥ä½œåŸç†ï¼Œç»“åˆæ€§èƒ½æŒ‡æ ‡æ¥è®°å¿†ï¼Œæ‹¿ä¸‹å·¥å…·çš„ä½¿ç”¨æ–¹æ³•å¹¶ä¸éš¾ã€‚</p><h2>æ€§èƒ½æŒ‡æ ‡å’Œå·¥å…·çš„è”ç³»</h2><p>åŒCPUæ€§èƒ½åˆ†æä¸€æ ·ï¼Œæˆ‘çš„ç»éªŒæ˜¯ä¸¤ä¸ªä¸åŒç»´åº¦å‡ºå‘ï¼Œæ•´ç†å’Œè®°å¿†ã€‚</p><ul>
<li>
<p>ä»å†…å­˜æŒ‡æ ‡å‡ºå‘ï¼Œæ›´å®¹æ˜“æŠŠå·¥å…·å’Œå†…å­˜çš„å·¥ä½œåŸç†å…³è”èµ·æ¥ã€‚</p>
</li>
<li>
<p>ä»æ€§èƒ½å·¥å…·å‡ºå‘ï¼Œå¯ä»¥æ›´å¿«åœ°åˆ©ç”¨å·¥å…·ï¼Œæ‰¾å‡ºæˆ‘ä»¬æƒ³è§‚å¯Ÿçš„æ€§èƒ½æŒ‡æ ‡ã€‚ç‰¹åˆ«æ˜¯åœ¨å·¥å…·æœ‰é™çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ›´å¾—å……åˆ†åˆ©ç”¨æ‰‹å¤´çš„æ¯ä¸€ä¸ªå·¥å…·ï¼ŒæŒ–æ˜å‡ºæ›´å¤šçš„é—®é¢˜ã€‚</p>
</li>
</ul><p>åŒæ ·çš„ï¼Œæ ¹æ®å†…å­˜æ€§èƒ½æŒ‡æ ‡å’Œå·¥å…·çš„å¯¹åº”å…³ç³»ï¼Œæˆ‘åšäº†ä¸¤ä¸ªè¡¨æ ¼ï¼Œæ–¹ä¾¿ä½ æ¢³ç†å…³ç³»å’Œç†è§£è®°å¿†ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å½“æˆâ€œæŒ‡æ ‡å·¥å…·â€å’Œâ€œå·¥å…·æŒ‡æ ‡â€æŒ‡å—æ¥ç”¨ï¼Œåœ¨éœ€è¦æ—¶ç›´æ¥æŸ¥æ‰¾ã€‚</p><p>ç¬¬ä¸€ä¸ªè¡¨æ ¼ï¼Œä»å†…å­˜æŒ‡æ ‡å‡ºå‘ï¼Œåˆ—ä¸¾äº†å“ªäº›æ€§èƒ½å·¥å…·å¯ä»¥æä¾›è¿™äº›æŒ‡æ ‡ã€‚è¿™æ ·ï¼Œåœ¨å®é™…æ’æŸ¥æ€§èƒ½é—®é¢˜æ—¶ï¼Œä½ å°±å¯ä»¥æ¸…æ¥šçŸ¥é“ï¼Œç©¶ç«Ÿè¦ç”¨ä»€ä¹ˆå·¥å…·æ¥è¾…åŠ©åˆ†æï¼Œæä¾›ä½ æƒ³è¦çš„æŒ‡æ ‡ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/8f/ed/8f477035fc4348a1f80bde3117a7dfed.png" alt=""></p><p>ç¬¬äºŒä¸ªè¡¨æ ¼ï¼Œä»æ€§èƒ½å·¥å…·å‡ºå‘ï¼Œæ•´ç†äº†è¿™äº›å¸¸è§å·¥å…·èƒ½æä¾›çš„å†…å­˜æŒ‡æ ‡ã€‚æŒæ¡äº†è¿™ä¸ªè¡¨æ ¼ï¼Œä½ å¯ä»¥æœ€å¤§åŒ–åˆ©ç”¨å·²æœ‰çš„å·¥å…·ï¼Œå°½å¯èƒ½å¤šåœ°æ‰¾åˆ°ä½ è¦çš„æŒ‡æ ‡ã€‚</p><p>è¿™äº›å·¥å…·çš„å…·ä½“ä½¿ç”¨æ–¹æ³•å¹¶ä¸ç”¨èƒŒï¼Œä½ åªè¦çŸ¥é“æœ‰å“ªäº›å¯ç”¨çš„å·¥å…·ï¼Œä»¥åŠè¿™äº›å·¥å…·æä¾›çš„åŸºæœ¬æŒ‡æ ‡ã€‚çœŸæ­£ç”¨åˆ°æ—¶ï¼Œ man ä¸€ä¸‹æŸ¥å®ƒä»¬çš„ä½¿ç”¨æ‰‹å†Œå°±å¯ä»¥äº†ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/52/9b/52bb55fba133401889206d02c224769b.png" alt=""></p><h2>å¦‚ä½•è¿…é€Ÿåˆ†æå†…å­˜çš„æ€§èƒ½ç“¶é¢ˆ</h2><p>æˆ‘ç›¸ä¿¡åˆ°è¿™ä¸€æ­¥ï¼Œä½ å¯¹å†…å­˜çš„æ€§èƒ½æŒ‡æ ‡å·²ç»éå¸¸ç†Ÿæ‚‰ï¼Œä¹Ÿæ¸…æ¥šæ¯ç§æ€§èƒ½æŒ‡æ ‡åˆ†åˆ«èƒ½ç”¨ä»€ä¹ˆå·¥å…·æ¥è·å–ã€‚</p><p>é‚£æ˜¯ä¸æ˜¯è¯´ï¼Œæ¯æ¬¡ç¢°åˆ°å†…å­˜æ€§èƒ½é—®é¢˜ï¼Œä½ éƒ½è¦æŠŠä¸Šé¢è¿™äº›å·¥å…·å…¨è·‘ä¸€éï¼Œç„¶åå†æŠŠæ‰€æœ‰å†…å­˜æ€§èƒ½æŒ‡æ ‡å…¨åˆ†æä¸€éå‘¢ï¼Ÿ</p><p>è‡ªç„¶ä¸æ˜¯ã€‚å‰é¢çš„CPUæ€§èƒ½ç¯‡æˆ‘ä»¬å°±è¯´è¿‡ï¼Œç®€å•æŸ¥æ‰¾æ³•ï¼Œè™½ç„¶æ˜¯æœ‰ç”¨çš„ï¼Œä¹Ÿå¾ˆå¯èƒ½æ‰¾åˆ°æŸäº›ç³»ç»Ÿæ½œåœ¨ç“¶é¢ˆã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•çš„ä½æ•ˆç‡å’Œå¤§å·¥ä½œé‡ï¼Œè®©æˆ‘ä»¬é¦–å…ˆæ‹’ç»äº†è¿™ç§æ–¹æ³•ã€‚</p><p>è¿˜æ˜¯é‚£å¥è¯ï¼Œåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯ï¼Œå°½å¯èƒ½<strong>å¿«</strong>åœ°å®šä½ç³»ç»Ÿç“¶é¢ˆï¼Œç„¶åå°½å¯èƒ½<strong>å¿«</strong>åœ°ä¼˜åŒ–æ€§èƒ½ï¼Œä¹Ÿå°±æ˜¯è¦åˆå¿«åˆå‡†åœ°è§£å†³æ€§èƒ½é—®é¢˜ã€‚</p><p>é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•ï¼Œå¯ä»¥åˆå¿«åˆå‡†åœ°åˆ†æå‡ºç³»ç»Ÿçš„å†…å­˜é—®é¢˜å‘¢ï¼Ÿ</p><p>æ–¹æ³•å½“ç„¶æœ‰ã€‚è¿˜æ˜¯é‚£ä¸ªå…³é”®è¯ï¼Œæ‰¾å…³è”ã€‚å…¶å®ï¼Œè™½ç„¶å†…å­˜çš„æ€§èƒ½æŒ‡æ ‡å¾ˆå¤šï¼Œä½†éƒ½æ˜¯ä¸ºäº†æè¿°å†…å­˜çš„åŸç†ï¼ŒæŒ‡æ ‡é—´è‡ªç„¶ä¸ä¼šå®Œå…¨å­¤ç«‹ï¼Œä¸€èˆ¬éƒ½ä¼šæœ‰å…³è”ã€‚å½“ç„¶ï¼Œåè¿‡æ¥è¯´ï¼Œè¿™äº›å…³è”ä¹Ÿæ­£æ˜¯æºäºç³»ç»Ÿçš„å†…å­˜åŸç†ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æ€»å¼ºè°ƒåŸºç¡€åŸç†çš„é‡è¦æ€§ï¼Œå¹¶åœ¨æ–‡ç« ä¸­ç©¿æ’è®²è§£ã€‚</p><p>ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œå½“ä½ çœ‹åˆ°ç³»ç»Ÿçš„å‰©ä½™å†…å­˜å¾ˆä½æ—¶ï¼Œæ˜¯ä¸æ˜¯å°±è¯´æ˜ï¼Œè¿›ç¨‹ä¸€å®šä¸èƒ½ç”³è¯·åˆ†é…æ–°å†…å­˜äº†å‘¢ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œå› ä¸ºè¿›ç¨‹å¯ä»¥ä½¿ç”¨çš„å†…å­˜ï¼Œé™¤äº†å‰©ä½™å†…å­˜ï¼Œè¿˜åŒ…æ‹¬äº†å¯å›æ”¶çš„ç¼“å­˜å’Œç¼“å†²åŒºã€‚</p><p>æ‰€ä»¥ï¼Œ<strong>ä¸ºäº†è¿…é€Ÿå®šä½å†…å­˜é—®é¢˜ï¼Œæˆ‘é€šå¸¸ä¼šå…ˆè¿è¡Œå‡ ä¸ªè¦†ç›–é¢æ¯”è¾ƒå¤§çš„æ€§èƒ½å·¥å…·ï¼Œæ¯”å¦‚freeã€topã€vmstatã€pidstatç­‰</strong>ã€‚</p><p>å…·ä½“çš„åˆ†ææ€è·¯ä¸»è¦æœ‰è¿™å‡ æ­¥ã€‚</p><ol>
<li>
<p>å…ˆç”¨freeå’Œtopï¼ŒæŸ¥çœ‹ç³»ç»Ÿæ•´ä½“çš„å†…å­˜ä½¿ç”¨æƒ…å†µã€‚</p>
</li>
<li>
<p>å†ç”¨vmstatå’Œpidstatï¼ŒæŸ¥çœ‹ä¸€æ®µæ—¶é—´çš„è¶‹åŠ¿ï¼Œä»è€Œåˆ¤æ–­å‡ºå†…å­˜é—®é¢˜çš„ç±»å‹ã€‚</p>
</li>
<li>
<p>æœ€åè¿›è¡Œè¯¦ç»†åˆ†æï¼Œæ¯”å¦‚å†…å­˜åˆ†é…åˆ†æã€ç¼“å­˜/ç¼“å†²åŒºåˆ†æã€å…·ä½“è¿›ç¨‹çš„å†…å­˜ä½¿ç”¨åˆ†æç­‰ã€‚</p>
</li>
</ol><p>åŒæ—¶ï¼Œæˆ‘ä¹ŸæŠŠè¿™ä¸ªåˆ†æè¿‡ç¨‹ç”»æˆäº†ä¸€å¼ æµç¨‹å›¾ï¼Œä½ å¯ä»¥ä¿å­˜å¹¶æ‰“å°å‡ºæ¥ä½¿ç”¨ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/d7/fe/d79cd017f0c90b84a36e70a3c5dccffe.png" alt=""></p><p>å›¾ä¸­åˆ—å‡ºäº†æœ€å¸¸ç”¨çš„å‡ ä¸ªå†…å­˜å·¥å…·ï¼Œå’Œç›¸å…³çš„åˆ†ææµç¨‹ã€‚å…¶ä¸­ï¼Œç®­å¤´è¡¨ç¤ºåˆ†æçš„æ–¹å‘ï¼Œä¸¾å‡ ä¸ªä¾‹å­ä½ å¯èƒ½ä¼šæ›´å®¹æ˜“ç†è§£ã€‚</p><p>ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œå½“ä½ é€šè¿‡freeï¼Œå‘ç°å¤§éƒ¨åˆ†å†…å­˜éƒ½è¢«ç¼“å­˜å ç”¨åï¼Œå¯ä»¥ä½¿ç”¨vmstatæˆ–è€…sarè§‚å¯Ÿä¸€ä¸‹ç¼“å­˜çš„å˜åŒ–è¶‹åŠ¿ï¼Œç¡®è®¤ç¼“å­˜çš„ä½¿ç”¨æ˜¯å¦è¿˜åœ¨ç»§ç»­å¢å¤§ã€‚</p><p>å¦‚æœç»§ç»­å¢å¤§ï¼Œåˆ™è¯´æ˜å¯¼è‡´ç¼“å­˜å‡é«˜çš„è¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼Œé‚£ä½ å°±èƒ½ç”¨ç¼“å­˜/ç¼“å†²åŒºåˆ†æå·¥å…·ï¼ˆæ¯”å¦‚cachetopã€slabtopç­‰ï¼‰ï¼Œåˆ†æè¿™äº›ç¼“å­˜åˆ°åº•è¢«å“ªé‡Œå ç”¨ã€‚</p><p>ç¬¬äºŒä¸ªä¾‹å­ï¼Œå½“ä½ freeä¸€ä¸‹ï¼Œå‘ç°ç³»ç»Ÿå¯ç”¨å†…å­˜ä¸è¶³æ—¶ï¼Œé¦–å…ˆè¦ç¡®è®¤å†…å­˜æ˜¯å¦è¢«ç¼“å­˜/ç¼“å†²åŒºå ç”¨ã€‚æ’é™¤ç¼“å­˜/ç¼“å†²åŒºåï¼Œä½ å¯ä»¥ç»§ç»­ç”¨pidstatæˆ–è€…topï¼Œå®šä½å ç”¨å†…å­˜æœ€å¤šçš„è¿›ç¨‹ã€‚</p><p>æ‰¾å‡ºè¿›ç¨‹åï¼Œå†é€šè¿‡è¿›ç¨‹å†…å­˜ç©ºé—´å·¥å…·ï¼ˆæ¯”å¦‚pmapï¼‰ï¼Œåˆ†æè¿›ç¨‹åœ°å€ç©ºé—´ä¸­å†…å­˜çš„ä½¿ç”¨æƒ…å†µå°±å¯ä»¥äº†ã€‚</p><p>ç¬¬ä¸‰ä¸ªä¾‹å­ï¼Œå½“ä½ é€šè¿‡vmstatæˆ–è€…sarå‘ç°å†…å­˜åœ¨ä¸æ–­å¢é•¿åï¼Œå¯ä»¥åˆ†æä¸­æ˜¯å¦å­˜åœ¨å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚</p><p>æ¯”å¦‚ä½ å¯ä»¥ä½¿ç”¨å†…å­˜åˆ†é…åˆ†æå·¥å…· memleak ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨å†…å­˜æ³„æ¼ã€‚å¦‚æœå­˜åœ¨å†…å­˜æ³„æ¼é—®é¢˜ï¼Œmemleakä¼šä¸ºä½ è¾“å‡ºå†…å­˜æ³„æ¼çš„è¿›ç¨‹ä»¥åŠè°ƒç”¨å †æ ˆã€‚</p><p>æ³¨æ„ï¼Œè¿™ä¸ªå›¾é‡Œæˆ‘æ²¡æœ‰åˆ—å‡ºæ‰€æœ‰æ€§èƒ½å·¥å…·ï¼Œåªç»™å‡ºäº†æœ€æ ¸å¿ƒçš„å‡ ä¸ªã€‚è¿™ä¹ˆåšï¼Œä¸€æ–¹é¢ï¼Œç¡®å®ä¸æƒ³è®©å¤§é‡çš„å·¥å…·åˆ—è¡¨å“åˆ°ä½ ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œå¸Œæœ›ä½ èƒ½æŠŠé‡å¿ƒå…ˆæ”¾åœ¨æ ¸å¿ƒå·¥å…·ä¸Šï¼Œé€šè¿‡æˆ‘æä¾›çš„æ¡ˆä¾‹å’ŒçœŸå®ç¯å¢ƒçš„å®è·µï¼ŒæŒæ¡ä½¿ç”¨æ–¹æ³•å’Œåˆ†ææ€è·¯ã€‚ æ¯•ç«Ÿç†Ÿç»ƒæŒæ¡å®ƒä»¬ï¼Œä½ å°±å¯ä»¥è§£å†³å¤§å¤šæ•°çš„å†…å­˜é—®é¢˜ã€‚</p><h2>å°ç»“</h2><p>åœ¨ä»Šå¤©çš„æ–‡ç« ä¸­ï¼Œæˆ‘å¸¦ä½ å›é¡¾äº†å¸¸è§çš„å†…å­˜æ€§èƒ½æŒ‡æ ‡ï¼Œæ¢³ç†äº†å¸¸è§çš„å†…å­˜æ€§èƒ½åˆ†æå·¥å…·ï¼Œæœ€åè¿˜æ€»ç»“äº†å¿«é€Ÿåˆ†æå†…å­˜é—®é¢˜çš„æ€è·¯ã€‚</p><p>è™½ç„¶å†…å­˜çš„æ€§èƒ½æŒ‡æ ‡å’Œæ€§èƒ½å·¥å…·éƒ½æŒºå¤šï¼Œä½†ç†è§£äº†å†…å­˜ç®¡ç†çš„åŸºæœ¬åŸç†åï¼Œä½ ä¼šå‘ç°å®ƒä»¬å…¶å®éƒ½æœ‰ä¸€å®šçš„å…³è”ã€‚æ¢³ç†å‡ºå®ƒä»¬çš„å…³ç³»ï¼ŒæŒæ¡å†…å­˜åˆ†æçš„å¥—è·¯å¹¶ä¸éš¾ã€‚</p><p>æ‰¾åˆ°å†…å­˜é—®é¢˜çš„æ¥æºåï¼Œä¸‹ä¸€æ­¥å°±æ˜¯ç›¸åº”çš„ä¼˜åŒ–å·¥ä½œäº†ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå†…å­˜è°ƒä¼˜æœ€é‡è¦çš„å°±æ˜¯ï¼Œä¿è¯åº”ç”¨ç¨‹åºçš„çƒ­ç‚¹æ•°æ®æ”¾åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°½é‡å‡å°‘æ¢é¡µå’Œäº¤æ¢ã€‚</p><p>å¸¸è§çš„ä¼˜åŒ–æ€è·¯æœ‰è¿™ä¹ˆå‡ ç§ã€‚</p><ol>
<li>
<p>æœ€å¥½ç¦æ­¢ Swapã€‚å¦‚æœå¿…é¡»å¼€å¯Swapï¼Œé™ä½swappinessçš„å€¼ï¼Œå‡å°‘å†…å­˜å›æ”¶æ—¶Swapçš„ä½¿ç”¨å€¾å‘ã€‚</p>
</li>
<li>
<p>å‡å°‘å†…å­˜çš„åŠ¨æ€åˆ†é…ã€‚æ¯”å¦‚ï¼Œå¯ä»¥ä½¿ç”¨å†…å­˜æ± ã€å¤§é¡µï¼ˆHugePageï¼‰ç­‰ã€‚</p>
</li>
<li>
<p>å°½é‡ä½¿ç”¨ç¼“å­˜å’Œç¼“å†²åŒºæ¥è®¿é—®æ•°æ®ã€‚æ¯”å¦‚ï¼Œå¯ä»¥ä½¿ç”¨å †æ ˆæ˜ç¡®å£°æ˜å†…å­˜ç©ºé—´ï¼Œæ¥å­˜å‚¨éœ€è¦ç¼“å­˜çš„æ•°æ®ï¼›æˆ–è€…ç”¨Redis è¿™ç±»çš„å¤–éƒ¨ç¼“å­˜ç»„ä»¶ï¼Œä¼˜åŒ–æ•°æ®çš„è®¿é—®ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨cgroupsç­‰æ–¹å¼é™åˆ¶è¿›ç¨‹çš„å†…å­˜ä½¿ç”¨æƒ…å†µã€‚è¿™æ ·ï¼Œå¯ä»¥ç¡®ä¿ç³»ç»Ÿå†…å­˜ä¸ä¼šè¢«å¼‚å¸¸è¿›ç¨‹è€—å°½ã€‚</p>
</li>
<li>
<p>é€šè¿‡ /proc/pid/oom_adj ï¼Œè°ƒæ•´æ ¸å¿ƒåº”ç”¨çš„oom_scoreã€‚è¿™æ ·ï¼Œå¯ä»¥ä¿è¯å³ä½¿å†…å­˜ç´§å¼ ï¼Œæ ¸å¿ƒåº”ç”¨ä¹Ÿä¸ä¼šè¢«OOMæ€æ­»ã€‚</p>
</li>
</ol><h2>æ€è€ƒ</h2><p>ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæˆ‘åœ¨è¿™é‡Œåªåˆ—ä¸¾äº†ä¸€äº›æˆ‘è®¤ä¸ºçš„é‡è¦å†…å­˜æŒ‡æ ‡å’Œåˆ†ææ€è·¯ã€‚æˆ‘æƒ³ï¼Œä½ è‚¯å®šä¹Ÿç¢°åˆ°è¿‡å¾ˆå¤šå†…å­˜ç›¸å…³çš„æ€§èƒ½é—®é¢˜ã€‚æ‰€ä»¥ï¼Œæˆ‘æƒ³è¯·ä½ æ¥èŠä¸€èŠï¼Œä½ å¤„ç†è¿‡çš„å†…å­˜æ€§èƒ½é—®é¢˜ï¼Œä½ æ˜¯æ€æ ·åˆ†æå®ƒçš„ç“¶é¢ˆå¹¶è§£å†³çš„å‘¢ï¼Ÿè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä»€ä¹ˆå‘ï¼Œæˆ–è€…æœ‰ä»€ä¹ˆé‡è¦æ”¶è·å—ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºè·Ÿæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/a3/e9/a396aed4116c2c989771c1295736abe9.jpg" alt=""></p>
                    </div>
                </div>

            </div>
            <div data-v-87ffcada="" class="article-comments pd"><h2 data-v-87ffcada=""><span
                    data-v-87ffcada="">ç²¾é€‰ç•™è¨€</span></h2>
                <ul data-v-87ffcada="">
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/d2/ed/e9158538.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å‡è‚¥çš„è€éƒ­</span>
                            </div>
                            <div class="bd">è€å¸ˆå¥½ï¼Œæ–‡ä¸­æåˆ°çš„bccç›¸å…³çš„å·¥å…·éƒ½éœ€è¦ç‰ˆæœ¬è¾ƒé«˜çš„å†…æ ¸ï¼Œä½†æ˜¯çœŸå®ç”Ÿäº§éƒ½æ— æ³•æ»¡è¶³è¿™ä¸ªè¦æ±‚ï¼Œæœ‰åˆ«çš„æ›¿ä»£å·¥å…·ä¹ˆï¼Ÿ <br></div>
                            <span class="time">2019-01-07 11:03</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æœ‰çš„ï¼Œæ¯”å¦‚å†…å­˜æ³„æ¼ä½¿ç”¨valgrindã€åŠ¨æ€è·Ÿè¸ªä½¿ç”¨systemtapç­‰ã€‚è¿™äº›å·¥å…·ç›¸å¯¹æ¥è¯´æ›´éš¾ç”¨ä¸€äº›</p>
                                <p class="reply-time">2019-01-07 17:38</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/11/4b/afafe35e.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">xfan</span>
                            </div>
                            <div class="bd">æ‰“å¡<br> <br></div>
                            <span class="time">2019-01-12 11:40</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/42/18/edc1b373.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">é£é£˜ï¼Œå¾ç‹¬æ€</span>
                            </div>
                            <div class="bd">æ‰“å¡ <br></div>
                            <span class="time">2019-01-09 08:44</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">åˆ’æ—¶ä»£</span>
                            </div>
                            <div class="bd">æ‰“å¡æ€»ç»“ <br></div>
                            <span class="time">2019-01-08 09:53</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/5f/fc/6ddfb5d5.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å¿â€¦å–„</span>
                            </div>
                            <div class="bd">è€å¸ˆï¼Œå¦‚æœæ˜¯swapç¼“æ…¢çš„å¢é•¿è¯¥å¦‚ä½•åˆ†æå‘¢ï¼Œæ¯å¤©å‡ åMçš„é€Ÿåº¦ï¼Œsar vmstatå‡ ä¹çœ‹ä¸åˆ°si soï¼Œç¨‹åºè·‘äº†ä¸€ä¸ªæœˆå¢é•¿äº†ä¸€ä¸ªg swap <br></div>
                            <span class="time">2019-01-08 09:52</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">ä¸Šç›‘æ§ç³»ç»Ÿï¼Œå„ç§å†…å­˜æŒ‡æ ‡å¢é•¿çš„è¶‹åŠ¿æ˜¯å¯ä»¥çœ‹åˆ°çš„</p>
                                <p class="reply-time">2019-01-09 18:11</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/de/bf/4df4224d.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">shuifa</span>
                            </div>
                            <div class="bd">æ‰“å¡ï¼Œå­¦ä¹ æ˜¯ä¸€ç§ä¹ æƒ¯ <br></div>
                            <span class="time">2019-01-07 23:18</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ— åè€å’</span>
                            </div>
                            <div class="bd">è€å¸ˆèƒ½ä¸èƒ½ä¸¾ä¸€äº›å®é™…çš„ä¾‹å­ï¼Œæˆ‘æ˜¯æœ‰é‡åˆ°è¿‡çº¿ä¸Šå†…å­˜æ³„éœ²çš„æ¡ˆä¾‹ï¼Œæ¯æ¬¡å‡ºç°è¿™ä¸ªé—®é¢˜æ—¶ï¼ŒåŸºæœ¬ä¸Šæ˜¯æ— è§£ï¼Œå› ä¸ºåŸºæœ¬ä¸Šéƒ½æ˜¯ç›´æ¥å®•æœºäº†ã€‚è¿™ä¸ªå¯æœ‰ç›‘æ§æ–¹æ³•ï¼Ÿ<br><br>å…¶ä»–çš„å†…å­˜ä½¿ç”¨ä¸Šçš„é—®é¢˜ï¼Œå¦‚ç¼ºé¡µã€ç¼“å­˜æ•°æ®ç”¨å¾—è¿‡å¤šç­‰å¼‚å¸¸ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰é‡åˆ°è¿‡ï¼Œè¿™ç±»é—®é¢˜ï¼Œè€å¸ˆé‡åˆ°çš„æ¬¡æ•°å¤šå—ï¼Ÿ <br></div>
                            <span class="time">2019-01-07 22:18</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å¯ä»¥æŠŠç³»ç»Ÿå’Œè¿›ç¨‹çš„å†…å­˜æŒ‡æ ‡ç›‘æ§èµ·æ¥ï¼Œè¿™æ ·æ ¹æ®å†å²è¶‹åŠ¿å°±å¯ä»¥çŸ¥é“æ˜¯å“ªäº›è¿›ç¨‹å†…å­˜æ³„æ¼äº†ã€‚<br><br>å…¶ä»–çš„è¿™äº›ä¹Ÿæœ‰ï¼Œä½†æ¯”è¾ƒå°‘ã€‚å®é™…è¿›ç¨‹åŸºæœ¬ä¸Šéƒ½æœ‰ä¸€ä¸ªå†…å­˜ç®¡ç†æ¨¡å—ï¼Œç»Ÿä¸€ç®¡ç†å†…å­˜ã€‚æœ‰é—®é¢˜ä¹Ÿæ˜¯è¿™ä¸ªæ¨¡å—åˆšå¼€å§‹å†™çš„æ—¶å€™æ¯”è¾ƒå¤šï¼Œåé¢å°±ä¼šé€æ¸ç¨³å®šèµ·æ¥ã€‚</p>
                                <p class="reply-time">2019-01-09 18:19</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æˆ‘æ¥ä¹Ÿ</span>
                            </div>
                            <div class="bd">[D22æ‰“å¡]<br>å†…å­˜çš„åˆ†ææ–¹æ³• å’Œ å·¥å…· æœ‰äº†ä¸ªå°è±¡.<br>ç­‰é‡åˆ°äº†å†…å­˜æ–¹é¢çš„æ€§èƒ½é—®é¢˜å†æ¥ç²¾è¯»å§.<br>ç°åœ¨æˆ‘ä¸ªäººç²¾åŠ›æœ‰é™. åªèƒ½å…ˆæŠ“é‡ç‚¹äº†. <br>å¹¶ä¸æ˜¯è€å¸ˆçš„ä¸“æ å†™çš„ä¸å¥½.ğŸ˜‚ğŸ˜‚ <br></div>
                            <span class="time">2019-01-07 15:28</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">ğŸ˜¢</p>
                                <p class="reply-time">2019-01-07 17:35</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/13/2d/24/28acca15.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">DJH</span>
                            </div>
                            <div class="bd">å€ªè€å¸ˆï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç©ºé—²çš„dockerèŠ‚ç‚¹ï¼ˆCentOS 7.4ï¼Œåªæœ‰k8s nodeç»„ä»¶ï¼Œcephç»„ä»¶å’Œ2ä¸ªç©ºè·‘çš„æµ‹è¯•podï¼‰ï¼Œå¹³å¸¸åªæœ‰å‡ åçš„ç£ç›˜iopsï¼Œæ¯éš”è‹¥å¹²å¤©åç³»ç»Ÿç£ç›˜çš„iopså°±ä¼šæŒç»­è¶…è¿‡3000ï¼Œå¹¶ä¸”é™ä¸ä¸‹æ¥ã€‚ç»è¿‡iostatæ£€æŸ¥å‘ç°ç£ç›˜è¯»å†™æ¥è‡ªäºswapå·ï¼Œå¥‡æ€ªçš„æ˜¯ç³»ç»Ÿç©ºé—²å†…å­˜å¾ˆå¤šï¼Œswapä½¿ç”¨ç‡ä¹Ÿåªæœ‰ä¸€ç‚¹ç‚¹ï¼ˆä¸åˆ°1%ï¼‰ï¼Œä¸»æœºä¸Šä¹Ÿæ²¡ä»€ä¹ˆä¸šåŠ¡ã€‚ç°åœ¨æ¯æ¬¡ç¢°åˆ°è¿™ä¸ªé—®é¢˜åªèƒ½é‡å¯ä¸€ä¸‹è§£å†³ã€‚è¯·é—®è¿™ç§é—®é¢˜æœ‰å•¥è§£å†³æ€è·¯å—ï¼Ÿ <br></div>
                            <span class="time">2019-01-07 08:46</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å¯èƒ½è·ŸNUMAé…ç½®æœ‰å…³ï¼Œå¯ä»¥æŸ¥ä¸‹æ˜¯ä¸æ˜¯å…è®¸è·¨NODE</p>
                                <p class="reply-time">2019-01-07 17:43</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/13/81/f16a0401.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å¤§é’è›™</span>
                            </div>
                            <div class="bd">æ²™å‘ <br></div>
                            <span class="time">2019-01-07 08:27</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ninuxer</span>
                            </div>
                            <div class="bd">æ‰“å¡day22<br>æ€»ç»“ç¯‡ï¼Œç´§è·Ÿå¤§ä½¬è„šæ­¥ï½ <br></div>
                            <span class="time">2019-01-07 08:05</span>
                            
                        </div>
                    </li>
                    


                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>