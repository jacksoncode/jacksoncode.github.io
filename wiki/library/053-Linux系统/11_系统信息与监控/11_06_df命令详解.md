# 11.6 df命令详解

## 1. 命令概述

df命令是Linux/Unix系统中用于显示文件系统磁盘空间使用情况的命令。它可以显示系统中各个挂载点的总空间、已用空间、可用空间以及挂载点的设备信息。df命令是系统管理员监控磁盘使用情况、排查磁盘空间不足问题的重要工具。

### 1.1 功能特点
- 显示文件系统的总空间、已用空间和可用空间
- 显示文件系统的使用百分比
- 支持以不同单位（KB、MB、GB等）显示磁盘空间
- 可以显示特定文件系统类型的使用情况
- 可以显示inode使用情况
- 支持显示文件系统的挂载点和设备信息

### 1.2 应用场景
- 检查系统各分区的磁盘空间使用情况
- 识别磁盘空间不足的分区
- 监控磁盘空间使用趋势
- 在系统维护和故障排查中使用
- 在自动化脚本中收集磁盘使用数据
- 确定是否需要清理磁盘空间或扩容

## 2. 语法格式

df命令的基本语法格式如下：

```bash
# 显示文件系统磁盘空间使用情况
$ df [选项] [文件或目录...]
```

### 2.1 语法说明
- **df**：命令名称
- **选项**：可选参数，用于控制输出格式、单位和显示内容
- **文件或目录**：可选参数，指定要显示的特定文件或目录所在的文件系统
- 如果不指定文件或目录，df命令将显示所有挂载的文件系统的磁盘空间使用情况
- 输出通常包括文件系统、总大小、已用空间、可用空间、使用百分比和挂载点

## 3. 常用选项

df命令提供了多个选项，可以用于调整输出格式、单位和显示内容。以下是df命令的常用选项：

### 3.1 选项列表

| 选项 | 功能说明 |
|------|----------|
| `-a`, `--all` | 显示所有文件系统，包括大小为0的文件系统 |
| `-h`, `--human-readable` | 以人类可读的格式显示磁盘空间（自动选择合适的单位） |
| `-H`, `--si` | 类似于-h，但使用1000作为基数（而不是1024） |
| `-i`, `--inodes` | 显示inode使用情况而不是块使用情况 |
| `-k`, `--kilobytes` | 以KB（千字节）为单位显示磁盘空间 |
| `-m`, `--megabytes` | 以MB（兆字节）为单位显示磁盘空间 |
| `-g`, `--gigabytes` | 以GB（吉字节）为单位显示磁盘空间 |
| `-T`, `--print-type` | 显示文件系统类型 |
| `-t TYPE`, `--type=TYPE` | 仅显示指定类型的文件系统 |
| `-x TYPE`, `--exclude-type=TYPE` | 排除指定类型的文件系统 |
| `--total` | 在输出的末尾显示总计信息 |
| `-h`, `--help` | 显示帮助信息 |
| `--version` | 显示df命令的版本信息 |

## 4. 常用示例

### 4.1 显示基本磁盘空间信息

显示系统中所有文件系统的基本磁盘空间使用情况：

```bash
# 默认格式显示磁盘空间信息
$ df
Filesystem     1K-blocks     Used Available Use% Mounted on
devtmpfs         4088200        0   4088200   0% /dev
tmpfs            4103436      140   4103296   1% /dev/shm
tmpfs            4103436     1076   4102360   1% /run
tmpfs            4103436        0   4103436   0% /sys/fs/cgroup
/dev/sda1       52403200  8341464  44061736  17% /
/dev/sda2      460550144 47458688 389759968  11% /home
tmpfs             820688       16    820672   1% /run/user/1000

# 输出解释：
# Filesystem: 文件系统名称
# 1K-blocks: 总块数（以1KB为单位）
# Used: 已使用的块数
# Available: 可用的块数
# Use%: 已使用的百分比
# Mounted on: 挂载点
```

### 4.2 以人类可读格式显示磁盘空间

使用-h选项以更友好的格式显示磁盘空间信息：

```bash
# 以人类可读的格式显示磁盘空间信息
$ df -h
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs        4.0G     0  4.0G   0% /dev
tmpfs           4.0G  140K  4.0G   1% /dev/shm
tmpfs           4.0G  1.1M  4.0G   1% /run
tmpfs           4.0G     0  4.0G   0% /sys/fs/cgroup
/dev/sda1        50G  8.0G   42G  17% /
/dev/sda2       439G   46G  372G  11% /home
tmpfs           802M   16K  802M   1% /run/user/1000

# 这种格式会自动选择合适的单位（KB、MB、GB等），使输出更易读
```

### 4.3 显示inode使用情况

使用-i选项显示文件系统的inode使用情况，这对于处理大量小文件的场景非常有用：

```bash
# 显示inode使用情况
$ df -i
Filesystem       Inodes  IUsed    IFree IUse% Mounted on
devtmpfs        1022050    385  1021665    1% /dev
tmpfs           1025859     65  1025794    1% /dev/shm
tmpfs           1025859   1022  1024837    1% /run
tmpfs           1025859     16  1025843    1% /sys/fs/cgroup
/dev/sda1       3276800 235421  3041379    8% /
/dev/sda2      29456384 156743 29299641    1% /home
tmpfs           1025859     17  1025842    1% /run/user/1000

# 输出解释：
# Inodes: 总inode数
# IUsed: 已使用的inode数
# IFree: 可用的inode数
# IUse%: inode的使用率
```

### 4.4 显示文件系统类型

使用-T选项显示文件系统的类型信息：

```bash
# 显示文件系统类型
$ df -hT
Filesystem     Type      Size  Used Avail Use% Mounted on
devtmpfs       devtmpfs  4.0G     0  4.0G   0% /dev
tmpfs          tmpfs     4.0G  140K  4.0G   1% /dev/shm
tmpfs          tmpfs     4.0G  1.1M  4.0G   1% /run
tmpfs          tmpfs     4.0G     0  4.0G   0% /sys/fs/cgroup
/dev/sda1      ext4       50G  8.0G   42G  17% /
/dev/sda2      ext4      439G   46G  372G  11% /home
tmpfs          tmpfs     802M   16K  802M   1% /run/user/1000

# 输出中增加了Type列，显示每个文件系统的类型（如ext4、tmpfs等）
```

### 4.5 显示特定文件系统类型

使用-t选项只显示指定类型的文件系统：

```bash
# 只显示ext4类型的文件系统
$ df -h -t ext4
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G  8.0G   42G  17% /
/dev/sda2       439G   46G  372G  11% /home

# 只显示tmpfs类型的文件系统
$ df -h -t tmpfs
Filesystem     Size  Used Avail Use% Mounted on
tmpfs          4.0G  140K  4.0G   1% /dev/shm
tmpfs          4.0G  1.1M  4.0G   1% /run
tmpfs          4.0G     0  4.0G   0% /sys/fs/cgroup
tmpfs          802M   16K  802M   1% /run/user/1000
```

### 4.6 排除特定文件系统类型

使用-x选项排除指定类型的文件系统：

```bash
# 显示除tmpfs类型外的所有文件系统
$ df -h -x tmpfs
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs        4.0G     0  4.0G   0% /dev
/dev/sda1        50G  8.0G   42G  17% /
/dev/sda2       439G   46G  372G  11% /home

# 显示除tmpfs和devtmpfs类型外的所有文件系统
$ df -h -x tmpfs -x devtmpfs
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G  8.0G   42G  17% /
/dev/sda2       439G   46G  372G  11% /home
```

### 4.7 显示特定目录的文件系统信息

指定目录或文件，显示该目录或文件所在的文件系统的信息：

```bash
# 显示/home目录所在的文件系统信息
$ df -h /home
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda2       439G   46G  372G  11% /home

# 显示/var/log目录所在的文件系统信息
$ df -h /var/log
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G  8.0G   42G  17% /

# 显示特定文件所在的文件系统信息
$ df -h /etc/passwd
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G  8.0G   42G  17% /
```

### 4.8 显示总计信息

使用--total选项在输出的末尾显示总计信息：

```bash
# 显示文件系统信息并在末尾添加总计行
$ df -h --total
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs        4.0G     0  4.0G   0% /dev
tmpfs           4.0G  140K  4.0G   1% /dev/shm
tmpfs           4.0G  1.1M  4.0G   1% /run
tmpfs           4.0G     0  4.0G   0% /sys/fs/cgroup
/dev/sda1        50G  8.0G   42G  17% /
/dev/sda2       439G   46G  372G  11% /home
tmpfs           802M   16K  802M   1% /run/user/1000
total           460G   54G  407G  12% -

# 在输出的最后添加了total行，显示所有文件系统的总计信息
```

### 4.9 在脚本中使用df命令

在Shell脚本中获取和处理磁盘空间使用信息：

```bash
#!/bin/bash

# 磁盘空间监控脚本

# 定义磁盘使用率阈值（百分比）
THRESHOLD=80

# 获取所有挂载点的磁盘使用情况
echo "=== 磁盘空间使用报告 ==="
echo "生成时间: $(date '+%Y-%m-%d %H:%M:%S')"
echo ""

# 显示所有文件系统的磁盘使用情况
df -hT

echo "\n=== 磁盘空间警告 ==="

# 检查各分区的磁盘使用率是否超过阈值
df -P | grep -v tmpfs | grep -v devtmpfs | tail -n +2 | while read line; do
    # 提取挂载点和使用率
    mount_point=$(echo $line | awk '{print $6}')
    usage=$(echo $line | awk '{print $5}' | sed 's/%//')
    
    # 检查使用率是否超过阈值
    if [ $usage -gt $THRESHOLD ]; then
        echo "警告: $mount_point 分区的磁盘使用率 ($usage%) 超过阈值 ($THRESHOLD%)"
    fi
done

# 找出占用空间最大的前10个目录（在根分区）
echo "\n=== / 分区占用空间最大的前10个目录 ==="
du -ah / --max-depth=1 2>/dev/null | sort -hr | head -10

# 检查inode使用情况
echo "\n=== inode使用情况 ==="
df -i | grep -v tmpfs | grep -v devtmpfs

# 检查是否有未挂载的文件系统
echo "\n=== 未挂载的文件系统 ==="
lsblk -o NAME,SIZE,TYPE,MOUNTPOINT | grep -v 'MOUNTPOINT'

# 输出建议操作
echo "\n=== 建议操作 ==="
if df -P | grep -v tmpfs | grep -v devtmpfs | tail -n +2 | awk -v threshold=$THRESHOLD '{if ($5+0 > threshold) print $0}' | grep -q .; then
    echo "1. 清理不必要的文件和目录以释放磁盘空间"
    echo "2. 考虑对磁盘空间不足的分区进行扩容"
    echo "3. 检查是否有大文件或日志占用过多空间"
else
    echo "1. 当前所有分区的磁盘使用率均在安全范围内"
    echo "2. 定期监控磁盘空间使用情况以预防潜在问题"
fi
```

## 5. 高级用法

### 5.1 磁盘使用趋势监控

创建脚本持续监控磁盘空间使用情况，并记录数据用于趋势分析：

```bash
#!/bin/bash

# 磁盘使用趋势监控脚本

# 配置参数
LOG_FILE="/var/log/disk_usage.log"
CHECK_INTERVAL=3600  # 检查间隔（秒），这里设置为1小时
MAX_LOG_SIZE=1048576  # 最大日志文件大小（字节），这里设置为1MB

# 确保日志文件存在
touch $LOG_FILE
chmod 644 $LOG_FILE

# 检查并旋转日志文件
if [ $(stat -c%s $LOG_FILE) -ge $MAX_LOG_SIZE ]; then
    mv $LOG_FILE $LOG_FILE.old
    touch $LOG_FILE
    chmod 644 $LOG_FILE
fi

# 记录磁盘使用数据
while true; do
    # 获取当前时间
    timestamp=$(date '+%Y-%m-%d %H:%M:%S')
    
    # 记录每个挂载点的磁盘使用数据
df -P | grep -v tmpfs | grep -v devtmpfs | tail -n +2 | while read line; do
        # 提取文件系统信息
        filesystem=$(echo $line | awk '{print $1}')
        size=$(echo $line | awk '{print $2}')
        used=$(echo $line | awk '{print $3}')
        available=$(echo $line | awk '{print $4}')
        usage=$(echo $line | awk '{print $5}' | sed 's/%//')
        mount_point=$(echo $line | awk '{print $6}')
        
        # 写入日志文件
        echo "$timestamp,$filesystem,$size,$used,$available,$usage,$mount_point" >> $LOG_FILE
    done
    
    # 等待下一次检查
    sleep $CHECK_INTERVAL
done

# 使用方法: 将脚本保存为disk_monitor.sh，然后运行：nohup ./disk_monitor.sh &
# 数据分析: 可以使用awk、gnuplot等工具分析日志文件中的数据，生成使用趋势图表
```

### 5.2 磁盘空间告警系统

创建自动化脚本监控磁盘空间使用情况，并在磁盘空间不足时发送告警：

```bash
#!/bin/bash

# 磁盘空间监控和告警脚本

# 配置参数
DISK_THRESHOLD=80  # 磁盘使用率阈值（%）
INODE_THRESHOLD=80  # inode使用率阈值（%）
CHECK_INTERVAL=600  # 检查间隔（秒），这里设置为10分钟
LOG_FILE="/var/log/disk_alert.log"
ALERT_EMAIL="admin@example.com"

# 确保日志文件存在
touch $LOG_FILE
chmod 644 $LOG_FILE

# 记录监控开始信息
echo "[$(date '+%Y-%m-%d %H:%M:%S')] 磁盘监控告警脚本启动 - 磁盘阈值: $DISK_THRESHOLD%, inode阈值: $INODE_THRESHOLD%" >> $LOG_FILE

while true; do
    # 获取当前时间
    timestamp=$(date '+%Y-%m-%d %H:%M:%S')
    
    # 检查磁盘空间使用率
    disk_alerts=()
df -P | grep -v tmpfs | grep -v devtmpfs | tail -n +2 | while read line; do
        filesystem=$(echo $line | awk '{print $1}')
        mount_point=$(echo $line | awk '{print $6}')
        usage=$(echo $line | awk '{print $5}' | sed 's/%//')
        
        if [ $usage -gt $DISK_THRESHOLD ]; then
            disk_alerts+=("$mount_point 分区 (设备: $filesystem) 的磁盘使用率为 $usage%，超过阈值 $DISK_THRESHOLD%")
        fi
    done
    
    # 检查inode使用率
    inode_alerts=()
df -iP | grep -v tmpfs | grep -v devtmpfs | tail -n +2 | while read line; do
        filesystem=$(echo $line | awk '{print $1}')
        mount_point=$(echo $line | awk '{print $6}')
        usage=$(echo $line | awk '{print $5}' | sed 's/%//')
        
        if [ $usage -gt $INODE_THRESHOLD ]; then
            inode_alerts+=("$mount_point 分区 (设备: $filesystem) 的inode使用率为 $usage%，超过阈值 $INODE_THRESHOLD%")
        fi
    done
    
    # 发送磁盘空间告警
    if [ ${#disk_alerts[@]} -gt 0 ]; then
        ALERT_MESSAGE="警告: 磁盘空间不足！\n时间: $timestamp\n主机: $(hostname)\n"
        for alert in "${disk_alerts[@]}"; do
            ALERT_MESSAGE+="- $alert\n"
        done
        
        # 记录警报
        echo "[$timestamp] 警报: 磁盘空间不足！" >> $LOG_FILE
        echo "$ALERT_MESSAGE" >> $LOG_FILE
        echo "------------------------------------" >> $LOG_FILE
        
        # 发送邮件警报（需要配置邮件服务）
        # echo "$ALERT_MESSAGE" | mail -s "[警报] 磁盘空间不足" $ALERT_EMAIL
        
        # 输出到控制台
        echo "$ALERT_MESSAGE"
    fi
    
    # 发送inode使用告警
    if [ ${#inode_alerts[@]} -gt 0 ]; then
        ALERT_MESSAGE="警告: inode使用过多！\n时间: $timestamp\n主机: $(hostname)\n"
        for alert in "${inode_alerts[@]}"; do
            ALERT_MESSAGE+="- $alert\n"
        done
        
        # 记录警报
        echo "[$timestamp] 警报: inode使用过多！" >> $LOG_FILE
        echo "$ALERT_MESSAGE" >> $LOG_FILE
        echo "------------------------------------" >> $LOG_FILE
        
        # 发送邮件警报（需要配置邮件服务）
        # echo "$ALERT_MESSAGE" | mail -s "[警报] inode使用过多" $ALERT_EMAIL
        
        # 输出到控制台
        echo "$ALERT_MESSAGE"
    fi
    
    # 等待下一次检查
    sleep $CHECK_INTERVAL
done

# 使用方法: 将脚本保存为disk_alert.sh，然后运行：nohup ./disk_alert.sh &
```

### 5.3 磁盘使用分析和可视化

结合其他工具对磁盘使用情况进行深入分析和可视化：

```bash
#!/bin/bash

# 磁盘使用分析和可视化脚本

# 确保安装了必要的工具
echo "检查必要的工具是否安装..."
for tool in df du sort head grep awk stat; do
    if ! command -v $tool &> /dev/null; then
        echo "错误: 工具 $tool 未安装，请先安装" >&2
        exit 1
    fi
done

# 创建临时目录存储分析结果
temp_dir=$(mktemp -d)
echo "使用临时目录: $temp_dir"

# 收集磁盘使用数据
echo "收集磁盘使用数据..."
df -h > $temp_dir/df_output.txt
df -i > $temp_dir/df_inode_output.txt

# 收集各挂载点的空间使用详情
echo "收集各挂载点的空间使用详情..."
df -h | grep -v tmpfs | grep -v devtmpfs | tail -n +2 | awk '{print $6}' | while read mount_point; do
    echo "分析 $mount_point..."
    du -ah $mount_point --max-depth=1 2>/dev/null | sort -hr | head -10 > $temp_dir/du_${mount_point////_}.txt
done

# 分析和显示数据
echo "\n=== 磁盘使用分析报告 ==="
echo "生成时间: $(date '+%Y-%m-%d %H:%M:%S')"
echo "主机名: $(hostname)"
echo "\n--- 基本磁盘信息 ---"
cat $temp_dir/df_output.txt

# 检查是否有磁盘空间不足的分区
echo "\n--- 磁盘空间警告 ---"
has_warnings=0
df -h | grep -v tmpfs | grep -v devtmpfs | tail -n +2 | while read line; do
    usage=$(echo $line | awk '{print $5}' | sed 's/%//')
    mount_point=$(echo $line | awk '{print $6}')
    
    if [ $usage -gt 80 ]; then
        echo "警告: $mount_point 分区的磁盘使用率为 $usage%，已超过80%的警戒线"
        has_warnings=1
    elif [ $usage -gt 60 ]; then
        echo "注意: $mount_point 分区的磁盘使用率为 $usage%，已超过60%"
        has_warnings=1
    fi
done

if [ $has_warnings -eq 0 ]; then
    echo "所有分区的磁盘使用率均在安全范围内"
fi

# 检查inode使用情况
echo "\n--- inode使用情况 ---"
has_inode_warnings=0
df -i | grep -v tmpfs | grep -v devtmpfs | tail -n +2 | while read line; do
    usage=$(echo $line | awk '{print $5}' | sed 's/%//')
    mount_point=$(echo $line | awk '{print $6}')
    
    if [ $usage -gt 80 ]; then
        echo "警告: $mount_point 分区的inode使用率为 $usage%，已超过80%的警戒线"
        has_inode_warnings=1
    fi
done

if [ $has_inode_warnings -eq 0 ]; then
    echo "所有分区的inode使用率均在安全范围内"
fi

# 显示各挂载点占用空间最大的目录
df -h | grep -v tmpfs | grep -v devtmpfs | tail -n +2 | awk '{print $6}' | while read mount_point; do
    if [ -f $temp_dir/du_${mount_point////_}.txt ]; then
        echo "\n--- $mount_point 分区占用空间最大的前10个目录 ---"
        cat $temp_dir/du_${mount_point////_}.txt
    fi
done

# 建议操作
echo "\n--- 建议操作 ---"
if [ $has_warnings -eq 1 ]; then
    echo "1. 清理不必要的文件和目录以释放磁盘空间"
    echo "2. 考虑对磁盘空间不足的分区进行扩容"
    echo "3. 使用 'du -sh * | sort -hr' 命令查找占用空间大的文件和目录"
    echo "4. 检查日志文件是否过大，可以使用 'logrotate' 工具管理日志"
elif [ $has_inode_warnings -eq 1 ]; then
    echo "1. 检查是否有大量小文件占用了过多的inode"
    echo "2. 清理临时文件和缓存文件"
    echo "3. 考虑重新格式化文件系统，增加inode数量"
else
    echo "1. 当前磁盘空间使用情况正常"
    echo "2. 定期监控磁盘空间使用情况以预防潜在问题"
    echo "3. 制定数据备份和清理策略"
fi

# 清理临时文件
echo "\n清理临时文件..."
rm -rf $temp_dir

echo "\n磁盘分析报告生成完成！"
```

## 6. 常见问题与解决方案

### 6.1 磁盘空间不足

**问题**：df命令显示磁盘空间使用率接近或达到100%。

**解决方案**：
1. 使用`du -sh * | sort -hr`命令查找占用空间最大的文件和目录
2. 删除不必要的文件和临时文件
3. 压缩不常用的大文件或迁移到其他存储设备
4. 检查日志文件是否过大，可以使用logrotate工具管理日志
5. 考虑对磁盘进行扩容或添加新的存储设备
6. 对于系统分区，可以卸载不常用的软件包以释放空间

### 6.2 inode耗尽

**问题**：df -i命令显示inode使用率接近或达到100%，但磁盘空间还有剩余。

**解决方案**：
1. 查找大量小文件：`find /path/to/directory -type f | wc -l`
2. 清理临时文件和缓存文件：`find /tmp -type f -mtime +7 -delete`
3. 检查邮件队列是否有大量未处理邮件
4. 对于网站服务器，检查是否有大量缓存文件或会话文件
5. 考虑重新格式化文件系统，增加inode数量（需要备份数据）
6. 使用更适合大量小文件的文件系统，如XFS

### 6.3 显示的可用空间与实际不符

**问题**：df命令显示有可用空间，但无法创建新文件或写入数据。

**解决方案**：
1. 检查inode使用情况：`df -i`，可能inode已耗尽
2. 检查文件系统权限：确保有足够的写入权限
3. 检查磁盘配额：`quota -u username`，可能用户配额已用尽
4. 检查文件系统是否有错误：`sudo fsck -n /dev/sda1`（需要卸载文件系统）
5. 对于ext文件系统，默认预留了5%的空间给root用户，使用`tune2fs -m 2 /dev/sda1`可以调整预留空间比例

### 6.4 df命令输出中包含大量tmpfs或其他虚拟文件系统

**问题**：df命令输出中包含大量tmpfs、devtmpfs等虚拟文件系统，影响对实际磁盘使用情况的查看。

**解决方案**：
1. 使用-x选项排除不需要的虚拟文件系统：`df -h -x tmpfs -x devtmpfs`
2. 只显示实际的磁盘分区：`df -h | grep -v tmpfs | grep -v devtmpfs`
3. 创建别名简化常用命令：`alias dfh='df -h -x tmpfs -x devtmpfs'`（添加到~/.bashrc中）

### 6.5 无法挂载新的文件系统

**问题**：尝试挂载新的磁盘或分区时失败。

**解决方案**：
1. 检查磁盘是否被正确识别：`sudo fdisk -l`或`lsblk`
2. 检查文件系统是否已创建：`sudo file -s /dev/sdb1`，如果显示"data"，需要先格式化
3. 创建文件系统：`sudo mkfs.ext4 /dev/sdb1`（根据需要选择文件系统类型）
4. 检查挂载点是否存在：`ls -ld /mnt/newdisk`，如果不存在，使用`mkdir -p /mnt/newdisk`创建
5. 检查/etc/fstab文件中的挂载配置是否正确
6. 检查文件系统权限和所有权

## 7. 总结与注意事项

### 7.1 总结

df命令是Linux/Unix系统中用于显示文件系统磁盘空间使用情况的重要工具。它提供了关于系统各挂载点的总空间、已用空间、可用空间和使用百分比等关键信息，帮助系统管理员监控磁盘使用情况、识别磁盘空间不足问题和制定存储管理策略。通过结合其他工具和脚本，可以实现更复杂的磁盘监控、分析和告警功能。

### 7.2 注意事项

- df命令显示的是文件系统级别的磁盘使用情况，而不是单个文件或目录的使用情况
- 使用-h选项可以使输出更加人性化和易读
- 定期监控磁盘空间使用情况有助于及时发现潜在问题
- 除了关注磁盘空间使用外，还应关注inode使用情况，特别是在处理大量小文件的场景
- 虚拟文件系统（如tmpfs、devtmpfs）通常不占用实际磁盘空间，而是使用系统内存
- 在脚本中解析df命令输出时，应考虑不同系统和版本可能存在的格式差异
- 对于生产环境，建议实现自动化的磁盘监控和告警系统